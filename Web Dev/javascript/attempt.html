<!-- previous attempt at todo list -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo-list</title>
    <style>
        .todo-row {
            display: flex;
        }
    </style>
</head>

<body>
    <p>Todo List</p>
    <div class="todo-input-grid">
        <input class="js-todo-input" type="text" placeholder="Todo name">
        <input class="js-duedate-input" type="date">    
        <button class="js-add-button">Add</button>
    </div>
    
    <div class="js-todo-grid todo-grid" ></div>

    <script>        
        const todoList = [
            {
            name: 'watch',
            dueDate: '2025-01-24'
            },
            {
            name: 'play',
            dueDate: '2025-01-29'
            }
        ];

        render();

        document.querySelector('.js-add-button').
            addEventListener("click", () => {
                    addTodo();
            });
            

        function render() {
            let todoHTML = [];

            todoList.forEach((todoObject, index) => {
                const {name, dueDate} = todoObject;
                todoHTML += `
                    <div class="todo-row">
                    <div>${name}</div>
                    <div>${dueDate}</div>
                    <button class="js-delete-button">Delete</button>
                    </div>
                `;                
            });

            document.querySelector('.js-todo-grid').innerHTML = todoHTML;

            document.querySelectorAll('.js-delete-button')
            .forEach((deleteButton, index) => {
                deleteButton.addEventListener("click", () => {
                    todoList.splice(index, 1);
                    render();
                });
            });

            console.log(todoHTML);
        }


        function addTodo() {
            const TodoElement = document.querySelector('.js-todo-input');
            const name = TodoElement.value;

            const dueDateElement = document.querySelector('.js-duedate-input');
            const dueDate = dueDateElement.value;

            todoList.push({
                name,
                dueDate,
            });

            render();
        }

        document.querySelectorAll('.js-delete-button')
            .forEach((deleteButton, index) => {
                deleteButton.addEventListener("click", () => {
                    todoList.splice(index, 1);
                    render();
                });
        });
        
    </script>
</body>
</html>